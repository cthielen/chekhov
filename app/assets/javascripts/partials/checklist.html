<div class="row-fluid" ng-show="loaded">
  <div style="margin-top: 25px;">
    <div class="btn-group pull-right" ng-show="user.is_admin || user.id == checklist.user_id">
        <button type="button" class="btn btn-large" ng-model="checklist.public" btn-radio="true" ng-click="togglePublic()">Public</button>
        <button type="button" class="btn btn-large" ng-model="checklist.public" btn-radio="false" ng-click="togglePublic()">Not Public</button>
    </div>
    <div class="span3 pull-right">
      <input type="text" ng-model="checklist.ticket_number" placeholder="SysAid Ticket #"
        ng-change="saveAfterDelay()"></input>
    </div>
  </div>
  <h4 class="span10" style="color: #999;">Using checklist '{{ checklist.template_name }}'</h4>
  <h1 class="span10">{{ checklist.name }}</h1>
</div>

<div class="row-fluid" style="margin-top: 2em;">
  <div class="span10 offset1">
    <div class="alert alert-error" ng-show="error">
      <button type="button" class="close" ng-click="clearError()">&times;</button>{{error}}
    </div>

    <div class="row text-center" ng-hide="loaded" id="loading"><img src="assets/ajax-loader.gif"></div>
    <table class="table table-hover" id="entries" ng-show="loaded">
      <tbody>
        <tr ng-repeat="entry in checklist.entries_attributes" ng-click="check(entry)">
          <td><input type="checkbox" ng-model="entry.checked" style="pointer-events: none;"></input></td>
          <td><span class="pull-right" style="padding-top: 1.5em; color: #999; padding-right: 3em;">{{entry.user_name}}</span><h3>{{$index+1}}. {{ entry.content }}</h3></td>
        </tr>
        <tr>
          <td colspan="2">
            Comments:
            <textarea class="span12" ng-model="checklist.comments" ng-change="saveAfterDelay()"></textarea>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
